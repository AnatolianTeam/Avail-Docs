"use strict";(self.webpackChunkavail_doc=self.webpackChunkavail_doc||[]).push([[649],{4461:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var l=i(5893),t=i(1151);i(4996);const a={id:"0010-light-client",title:"Avail Hafif \u0130stemcisi Nas\u0131l \xc7al\u0131\u015ft\u0131r\u0131l\u0131r?",sidebar_label:"Light Client \xc7al\u0131\u015ft\u0131r\u0131n",sidebar_position:2,description:"Avail Hafif \u0130stemcinin nas\u0131l \xe7al\u0131\u015ft\u0131r\u0131laca\u011f\u0131n\u0131 \xf6\u011frenin.",keywords:["docs","avail","node","light client","da"],image:"https://docs.availproject.org/img/avail/AvailDocs.png"},r=void 0,o={id:"operate-a-node/run-a-light-client/0010-light-client",title:"Avail Hafif \u0130stemcisi Nas\u0131l \xc7al\u0131\u015ft\u0131r\u0131l\u0131r?",description:"Avail Hafif \u0130stemcinin nas\u0131l \xe7al\u0131\u015ft\u0131r\u0131laca\u011f\u0131n\u0131 \xf6\u011frenin.",source:"@site/docs/operate-a-node/run-a-light-client/0010-light-client.md",sourceDirName:"operate-a-node/run-a-light-client",slug:"/operate-a-node/run-a-light-client/0010-light-client",permalink:"/operate-a-node/run-a-light-client/0010-light-client",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"0010-light-client",title:"Avail Hafif \u0130stemcisi Nas\u0131l \xc7al\u0131\u015ft\u0131r\u0131l\u0131r?",sidebar_label:"Light Client \xc7al\u0131\u015ft\u0131r\u0131n",sidebar_position:2,description:"Avail Hafif \u0130stemcinin nas\u0131l \xe7al\u0131\u015ft\u0131r\u0131laca\u011f\u0131n\u0131 \xf6\u011frenin.",keywords:["docs","avail","node","light client","da"],image:"https://docs.availproject.org/img/avail/AvailDocs.png"},sidebar:"tutorialSidebar",previous:{title:"Genel Bak\u0131\u015f",permalink:"/operate-a-node/run-a-light-client/light-client"},next:{title:"Referans",permalink:"/category/referans"}},s={},c=[{value:"Latest release",id:"latest-release",level:2},{value:"Run on an Existing Network",id:"run-on-an-existing-network",level:2},{value:"Run Locally",id:"run-locally",level:2},{value:"Build From Source",id:"build-from-source",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Run a Relay node",id:"run-a-relay-node",level:3},{value:"Run a Full Node",id:"run-a-full-node",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"This guide outlines how to set up an Avail light client. You can either:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#run-on-an-existing-network",children:(0,l.jsx)("ins",{children:"Run the light client on an existing network"})})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#run-locally",children:(0,l.jsx)("ins",{children:"Run the light client locally"})})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"latest-release",children:"Latest release"}),"\n",(0,l.jsxs)(n.p,{children:["You can find the latest release binary in the ",(0,l.jsx)(n.code,{children:"avail-light"})," repository."]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Repository"}),(0,l.jsx)(n.th,{children:"Latest Release"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"https://github.com/availproject/avail-light",children:(0,l.jsx)("ins",{children:"avail-light"})})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.a,{href:"https://github.com/availproject/avail-light/releases/tag/v1.7.4",children:(0,l.jsx)("ins",{children:"v1.7.4"})})})]})})]}),"\n",(0,l.jsx)(n.h2,{id:"run-on-an-existing-network",children:"Run on an Existing Network"}),"\n",(0,l.jsx)(n.p,{children:"In this example, you will download the light client and connect to an existing public network."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Download the latest Avail light client ",(0,l.jsx)(n.a,{href:"https://github.com/availproject/avail-light/releases/",children:(0,l.jsx)("ins",{children:"release"})}),". The light client is available pre-built for different architectures."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["If you prefer building the light client yourself, see ",(0,l.jsx)(n.a,{href:"#build-the-avail-light-client-from-source",children:(0,l.jsx)("ins",{children:"build the Avail light client from source"})}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Run the light client with the following pre-defined configuration file:"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./avail-light --network goldberg\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"4",children:["\n",(0,l.jsxs)(n.li,{children:["If you want to supply your own ",(0,l.jsx)(n.a,{href:"https://github.com/availproject/avail-light#configuration-reference",children:(0,l.jsx)("ins",{children:"configuration file"})}),", use:"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./avail-light --config config.yaml --network goldberg\n"})}),"\n",(0,l.jsx)(n.p,{children:"That's it \ud83c\udf89! You have successfully run the light client and connected to a public network. The light client should show output similar to the following:"}),"\n",(0,l.jsxs)(i,{children:[(0,l.jsx)("summary",{children:" Sample output "}),(0,l.jsx)(n.p,{children:"The client output should look like this:"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'2023-06-04T02:56:31.871284Z  INFO avail_light::telemetry: Metrics server on http://0.0.0.0:9520/metrics\n2023-06-04T02:56:31.884271Z  INFO avail_light::http: RPC running on http://127.0.0.1:7000\n2023-06-04T02:56:31.884386Z  INFO avail_light::network: Local peer id: PeerId("12D3KooWQ77VEayXfSPWcj6ucAGcjZRTL8ANmtjsuULoyToGSBoo"). Public key: Ed25519(PublicKey(compressed): d44de4113b372855a655f1675325379705aa7a273698194e8e6814dab7791a).\n2023-06-04T02:56:31.884605Z  INFO Server::run{addr=127.0.0.1:7000}: warp::server: listening on http://127.0.0.1:7000\n2023-06-04T02:56:31.892181Z  INFO avail_light::network::event_loop: Local node is listening on "/ip4/127.0.0.1/udp/37000/quic-v1"\n2023-06-04T02:56:31.892487Z  INFO avail_light: Bootstraping the DHT with bootstrap nodes...\n2023-06-04T02:56:31.892487Z  INFO avail_light::network::event_loop: Local node is listening on "/ip4/192.168.1.146/udp/37000/quic-v1"\n2023-06-04T02:56:31.892540Z  INFO avail_light::network::event_loop: Local node is listening on "/ip4/127.0.0.1/tcp/37000"\n2023-06-04T02:56:31.892745Z  INFO avail_light::network::event_loop: Local node is listening on "/ip4/192.168.1.146/tcp/37000"\n2023-06-04T02:56:42.220179Z  INFO avail_light::rpc: Connection established to the node: wss://goldberg.avail.tools:443/ws <v1.6.0-99b85257d6b/data-avail/9>\n2023-06-04T02:56:42.444576Z  INFO avail_light::light_client: Starting light client...\n2023-06-04T02:56:43.453935Z  INFO avail_light::subscriptions: Received finalized block header header.number=2074\n2023-06-04T02:56:43.455236Z  INFO avail_light::light_client: Processing finalized block block_number=2074 block_delay=0\n2023-06-04T02:56:43.456055Z  INFO avail_light::light_client: Random cells generated: 4 block_number=2074 cells_requested=4\n2023-06-04T02:56:43.617885Z  INFO avail_light::light_client: Number of cells fetched from DHT: 0 block_number=2074 cells_from_dht=0\n2023-06-04T02:56:43.820098Z  INFO avail_light::light_client: Number of cells fetched from RPC: 4 block_number=2074 cells_from_rpc=4\n2023-06-04T02:56:43.889260Z  INFO avail_light::light_client: Completed 4 verification rounds in \t433.968ms block_number=2074\n2023-06-04T02:56:43.889395Z  INFO avail_light::light_client: Confidence factor: 93.75 block_number=2074 confidence=93.75\n2023-06-04T02:56:43.889495Z  INFO avail_light::light_client: Partition cells received. Time elapsed: \t0ns block_number=2074 partition_retrieve_time_elapsed=0.0 partition_cells_fetched=4\n2023-06-04T02:56:44.050133Z  INFO avail_light::light_client: DHT PUT operation success rate: inf block_number=2074\n2023-06-04T02:56:44.050211Z  INFO avail_light::light_client: 4 cells inserted into DHT. Time elapsed: \t160.697ms block_number=2074 partition_dht_insert_time_elapsed=0.160697\n'})})]}),"\n",(0,l.jsx)(n.h2,{id:"run-locally",children:"Run Locally"}),"\n",(0,l.jsx)(n.p,{children:"If you want to connect the Avail light client to a local network, you will need to run your own Avail node and your own Avail light client bootstrap node."}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Run the Avail ",(0,l.jsx)(n.a,{href:"/docs/operate/node/binaries",children:(0,l.jsx)("ins",{children:"node"})}),". For local set-up, run the node in ",(0,l.jsx)(n.code,{children:"dev"})," mode:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./data-avail --dev\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Run a ",(0,l.jsx)(n.a,{href:"/operate/node/bootstrap",children:(0,l.jsx)("ins",{children:"bootstrap node"})}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Once the bootstrap node is running, use the following command to run your client:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./avail-light --network local\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["If you want to supply your own ",(0,l.jsx)(n.a,{href:"https://github.com/availproject/avail-light#configuration-reference",children:(0,l.jsx)("ins",{children:"configuration file"})}),", use:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./avail-light --config config.yaml --network local\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"build-from-source",children:"Build From Source"}),"\n",(0,l.jsx)(n.p,{children:"You can build the light client directly from source."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"git clone https://github.com/availproject/avail-light.git\ncd avail-light\ncargo build --release\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Find the resulting ",(0,l.jsx)(n.code,{children:"avail-light"})," binary in the ",(0,l.jsx)(n.code,{children:"target/release"})," directory."]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsx)(n.h3,{id:"run-a-relay-node",children:"Run a Relay node"}),"\n",(0,l.jsxs)(n.p,{children:["We provide an Avail light client relay node that can help you with running your light client from behing NAT and firewalls. Find more information on running a relay node ",(0,l.jsx)(n.a,{href:"/operate-a-node/run-a-full-node/relay",children:(0,l.jsx)("ins",{children:"here"})}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"run-a-full-node",children:"Run a Full Node"}),"\n",(0,l.jsxs)(n.p,{children:["Consider running a full node by following the deployment guide ",(0,l.jsx)(n.a,{href:"/operate-a-node/run-a-full-node/full-node/binaries",children:(0,l.jsx)("ins",{children:"here"})}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>r});var l=i(7294);const t={},a=l.createContext(t);function r(e){const n=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);