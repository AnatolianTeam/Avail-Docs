"use strict";(self.webpackChunkavail_doc=self.webpackChunkavail_doc||[]).push([[5302],{2183:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>d});var i=n(5893),o=n(1151);const t={id:"backup",title:"Your Avail Do\u011frulay\u0131c\u0131n\u0131z\u0131 Nas\u0131l Ydeklersiniz?",sidebar_label:"Do\u011frulay\u0131c\u0131n\u0131z\u0131 Yedekleyin",sidebar_position:4,description:"Bir Avail Do\u011frulay\u0131c\u0131y\u0131 s\xfcrd\xfcrmek i\xe7in gerekli olan yedekleme g\xf6revlerine ili\u015fkin kapsaml\u0131 bir k\u0131lavuz.",keywords:["docs","avail","node","validator"],image:"https://docs.availproject.org/img/avail/AvailDocs.png"},a=void 0,s={id:"operate-a-node/become-a-validator/backup",title:"Your Avail Do\u011frulay\u0131c\u0131n\u0131z\u0131 Nas\u0131l Ydeklersiniz?",description:"Bir Avail Do\u011frulay\u0131c\u0131y\u0131 s\xfcrd\xfcrmek i\xe7in gerekli olan yedekleme g\xf6revlerine ili\u015fkin kapsaml\u0131 bir k\u0131lavuz.",source:"@site/docs/operate-a-node/become-a-validator/0040-backup-node.md",sourceDirName:"operate-a-node/become-a-validator",slug:"/operate-a-node/become-a-validator/backup",permalink:"/operate-a-node/become-a-validator/backup",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"backup",title:"Your Avail Do\u011frulay\u0131c\u0131n\u0131z\u0131 Nas\u0131l Ydeklersiniz?",sidebar_label:"Do\u011frulay\u0131c\u0131n\u0131z\u0131 Yedekleyin",sidebar_position:4,description:"Bir Avail Do\u011frulay\u0131c\u0131y\u0131 s\xfcrd\xfcrmek i\xe7in gerekli olan yedekleme g\xf6revlerine ili\u015fkin kapsaml\u0131 bir k\u0131lavuz.",keywords:["docs","avail","node","validator"],image:"https://docs.availproject.org/img/avail/AvailDocs.png"},sidebar:"tutorialSidebar",previous:{title:"Do\u011frulay\u0131c\u0131n\u0131za Stake Edin",permalink:"/operate-a-node/become-a-validator/staking"},next:{title:"Do\u011frulay\u0131c\u0131n\u0131z\u0131 Y\xfckseltin",permalink:"/operate-a-node/become-a-validator/upgrade"}},l={},d=[{value:"Understanding Validator Directories",id:"understanding-validator-directories",level:2},{value:"Directory Structure",id:"directory-structure",level:3},{value:"Directory Descriptions",id:"directory-descriptions",level:3},{value:"Step 1: Re-Sync or Restore Snapshot",id:"step-1-re-sync-or-restore-snapshot",level:2},{value:"To Re-Sync from Genesis",id:"to-re-sync-from-genesis",level:3},{value:"To Restore a Database Snapshot",id:"to-restore-a-database-snapshot",level:3},{value:"Step 2: Backup Keystore",id:"step-2-backup-keystore",level:2},{value:"To Move Keystore to a Backup Node",id:"to-move-keystore-to-a-backup-node",level:3}];function c(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"understanding-validator-directories",children:"Understanding Validator Directories"}),"\n",(0,i.jsx)(r.p,{children:"Before diving into backup procedures, it's crucial to understand the directory structure of your Avail node."}),"\n",(0,i.jsx)(r.h3,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,i.jsx)(r.p,{children:"The Avail node's directory structure is as follows:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"\u2514\u2500\u2500 chains\n    \u2514\u2500\u2500 da_testnet\n        \u2514\u2500\u2500 db\n        \u2514\u2500\u2500 keystore\n        \u2514\u2500\u2500 network\n"})}),"\n",(0,i.jsx)(r.h3,{id:"directory-descriptions",children:"Directory Descriptions"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"db"}),": This directory contains the database files, which store blockchain state, transaction history, and other data."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"keystore"}),": This is where the encrypted key files for your Validator are stored."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"network"}),": This directory contains configuration files related to network connectivity and peer management."]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["You can specify a custom directory using the ",(0,i.jsx)(r.code,{children:"--base-path"})," parameter."]}),"\n",(0,i.jsx)(r.h2,{id:"step-1-re-sync-or-restore-snapshot",children:"Step 1: Re-Sync or Restore Snapshot"}),"\n",(0,i.jsx)(r.h3,{id:"to-re-sync-from-genesis",children:"To Re-Sync from Genesis"}),"\n",(0,i.jsx)(r.p,{children:"Run the following command:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"avail purge-chain\n"})}),"\n",(0,i.jsx)(r.h3,{id:"to-restore-a-database-snapshot",children:"To Restore a Database Snapshot"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"Stop your node."}),"\n",(0,i.jsx)(r.li,{children:"Delete existing chain data."}),"\n",(0,i.jsx)(r.li,{children:"Download a snapshot from another node."}),"\n",(0,i.jsxs)(r.li,{children:["Restore the snapshot to the ",(0,i.jsx)(r.code,{children:"db"})," folder."]}),"\n"]}),"\n",(0,i.jsx)(r.admonition,{title:"Warp Sync",type:"info",children:(0,i.jsx)(r.p,{children:"Warp sync will be available in future releases, allowing quicker node setup."})}),"\n",(0,i.jsx)(r.h2,{id:"step-2-backup-keystore",children:"Step 2: Backup Keystore"}),"\n",(0,i.jsx)(r.h3,{id:"to-move-keystore-to-a-backup-node",children:"To Move Keystore to a Backup Node"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"Ensure the primary node is offline."}),"\n",(0,i.jsx)(r.li,{children:"Transfer the keystore to a backup node that is in sync."}),"\n"]}),"\n",(0,i.jsx)(r.admonition,{title:"Equivocation Risk",type:"warning",children:(0,i.jsx)(r.p,{children:"Never run two nodes with identical keys at the same time to avoid double-signing."})}),"\n",(0,i.jsxs)(r.p,{children:["This method is not recommended for routine transitions between nodes. For safer alternatives, consult the ",(0,i.jsx)(r.a,{href:"/operate-a-node/become-a-validator/monitor",children:"Upgrading Guide"}),"."]})]})}function u(e={}){const{wrapper:r}={...(0,o.a)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},1151:(e,r,n)=>{n.d(r,{Z:()=>s,a:()=>a});var i=n(7294);const o={},t=i.createContext(o);function a(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);